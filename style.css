body {
    background-color: #212529; /* bg-dark */
}

.bg-dark-subtle {
    background-color: #343a40 !important;
}

#map {
    height: 65vh;
    min-height: 400px;
    background-color: #495057;
    z-index: 1;
}

.map-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 10;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
}

.status-indicator {
    width: 25px;
    height: 25px;
    border-radius: 50%;
    transition: background-color 0.5s ease;
    flex-shrink: 0;
}

.status-safe {
    background-color: #198754; /* success */
    box-shadow: 0 0 10px #198754;
}

.status-warning {
    background-color: #ffc107; /* warning */
    box-shadow: 0 0 10px #ffc107;
}

.status-danger {
    background-color: #dc3545; /* danger */
    box-shadow: 0 0 10px #dc3545;
}

.status-calculating {
    background-color: #6c757d; /* secondary */
    animation: pulse 1.5s infinite;
}

#status-card {
    transition: background-color 0.5s ease;
}

.status-card-safe {
    background-color: rgba(25, 135, 84, 0.2);
}

.status-card-warning {
    background-color: rgba(255, 193, 7, 0.2);
}

.status-card-danger {
    background-color: rgba(220, 53, 69, 0.2);
}

.status-card-calculating {
    background-color: #343a40;
}

.leaflet-popup-content-wrapper, .leaflet-popup-tip {
    background-color: #343a40;
    color: #f8f9fa;
}

#sos-button.active {
    background-color: #ffc107; /* warning */
    color: #000;
    animation: pulse-sos 1.5s infinite;
}

@keyframes pulse {
    0% {
        transform: scale(0.95);
        box-shadow: 0 0 0 0 rgba(108, 117, 125, 0.7);
    }
    70% {
        transform: scale(1);
        box-shadow: 0 0 0 10px rgba(108, 117, 125, 0);
    }
    100% {
        transform: scale(0.95);
        box-shadow: 0 0 0 0 rgba(108, 117, 125, 0);
    }
}

@keyframes pulse-sos {
    0% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.7);
    }
    70% {
        transform: scale(1.1);
        box-shadow: 0 0 0 15px rgba(255, 193, 7, 0);
    }
    100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(255, 193, 7, 0);
    }
}